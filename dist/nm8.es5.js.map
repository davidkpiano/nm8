{"version":3,"file":"nm8.es5.js","sources":["../src/nm8.ts"],"sourcesContent":["export interface Nm8Config {\n  duration: number;\n  easing: (offset: number) => number;\n}\n\nexport interface Nm810 {\n  play: () => void;\n  pause: () => void;\n}\n\nconst nm8 = (fn: (deltaOrOffset: number) => any, duration: number): Nm810 => {\n  let rate = 0;\n  let elapsed = 0;\n  let currentTime: number;\n  let resetCurrentTime = () => currentTime = performance.now();\n  let tick = () => {\n    let delta = -currentTime + resetCurrentTime();\n    elapsed += delta;\n    fn(duration ? elapsed / duration : delta);\n    return (!rate || (elapsed >= +duration)) || requestAnimationFrame(tick);\n  };\n  let nm810 = {\n    play: () => (\n      rate = 1,\n      elapsed >= +duration && (elapsed = 0),\n      resetCurrentTime(),\n      tick(),\n      nm810\n    ),\n    pause: () => (rate = 0, nm810),\n    stop: () => (elapsed = duration || 1/0, resetCurrentTime(), tick(), nm810)\n  };\n  return nm810;\n};\n\nexport default nm8;\n"],"names":["nm8","performance","now","requestAnimationFrame","play","pause","stop"],"mappings":"AAUA,KAAMA,KAAM,QACV,GAEI,EAFJ,CAAI,EAAO,CAAX,CACI,EAAU,CADd,CAGI,EAAmB,IAAM,EAAcC,YAAYC,GAAZ,EAH3C,CAII,EAAO,KACT,GAAI,GAAQ,GAAe,GAA3B,CAGA,MAFA,KAEA,CADA,EAAG,EAAW,GAAX,EAAH,CACA,CAAQ,IAAU,GAAW,EAAtB,EAAqCC,wBAC7C,CATD,CAUI,EAAQ,CACVC,KAAM,KACJ,EAAO,CAAP,CACA,GAAW,EAAX,GAAyB,EAAU,CAAnC,CADA,CAEA,GAFA,CAGA,GAHA,EADI,CADI,CAQVC,MAAO,KAAO,EAAO,CAAP,EAAP,CARG,CASVC,KAAM,KAAO,EAAU,GAAY,EAAE,CAAxB,CAA2B,GAA3B,CAA+C,GAA/C,EAAP,CATI,CAVZ,CAqBA,QACD,CAvBD"}